<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="PSR-15 Middleware in Minutes"> 

    
    
        
    
    <meta name="docsearch:version" content="3.0.0,latest">
    <meta name="docsearch:language" content="en">
    <meta name="docsearch:component" content="mezzio">

    <link rel="canonical" href="https://docs.mezzio.dev/mezzio/v1/reference/migration/to-v1-1/">
    <link rel="shortcut icon" href="https://docs.laminas.dev/img/trademark-laminas-foundation-rgb.svg">

    <title>To Mezzio 1.1 - mezzio - Laminas Docs</title>

    <link rel="stylesheet" href="https://docs.laminas.dev/css/styles.css">
    
        <link href="../../../../css/mezzio.css" rel="stylesheet">
    
</head>
<body id="page-top" class="mezzio" data-spy="scroll" data-target=".toc" data-offset="20">

    
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        
        <a class="logo-link navbar-brand" href="https://getlaminas.org/" data-tooltip data-placement="bottom" title="Go to the Laminas homepage">
            <img src="https://docs.laminas.dev/img/laminas-foundation-white.svg" height="28" alt="Laminas">
        </a>
        <a class="navbar-title" href="https://docs.laminas.dev/" data-tooltip data-placement="bottom" title="Go to the Laminas Documentation">
            Documentation
        </a>

        
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">

            
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <div class="dropdown sub-project-selector">
                        <a class="dropdown-toggle nav-link" data-toggle="dropdown" aria-expanded="false">
                            All Docs
                        </a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a href="https://docs.mezzio.dev/" class="dropdown-item">
                                <div class="row align-items-center">
                                    <div class="col-md-4 col-sm-12">
                                        <img src="https://docs.laminas.dev/img/laminas-mezzio-rgb.svg">
                                    </div>
                                    <div class="col-md-8 col-sm-12">
                                        <strong>Mezzio</strong><br>
                                        PSR-15 Middleware in Minutes
                                    </div>
                                </div>
                            </a>
                            <a href="https://docs.laminas.dev/components/" class="dropdown-item">
                                <div class="row align-items-center">
                                    <div class="col-md-4 col-sm-12">
                                        <img src="https://docs.laminas.dev/img/laminas-components-rgb.svg">
                                    </div>
                                    <div class="col-md-8 col-sm-12">
                                        <strong>Components</strong><br>
                                        Components for Enterprise Applications
                                    </div>
                                </div>
                            </a>
                            <a href="https://docs.laminas.dev/mvc" class="dropdown-item">
                                <div class="row align-items-center">
                                    <div class="col-md-4 col-sm-12">
                                        <img src="https://docs.laminas.dev/img/laminas-mvc-rgb.svg">
                                    </div>
                                    <div class="col-md-8 col-sm-12">
                                        <strong>MVC</strong><br>
                                        MVC for Enterprise Applications
                                    </div>
                                </div>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item dropdown-item--secondardy" href="https://docs.laminas.dev/migration/">
                                <div class="row align-items-center">
                                    <div class="col-md-8 offset-md-4 col-sm-12">
                                        Migration to Laminas
                                    </div>
                                </div>
                            </a>
                            <a class="dropdown-item dropdown-item--secondardy" href="https://docs.laminas.dev/tutorials/">
                                <div class="row align-items-center">
                                    <div class="col-md-8 offset-md-4 col-sm-12">
                                        Tutorials
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="https://getlaminas.org/participate" class="nav-link">Community</a>
                </li>
            </ul>

            
            
                <div class="d-block d-sm-none">
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="../../../..">mezzio</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                

                    
                    
                
            

                
                

                    
                    
                
            

                
                
                    
                        
    <li class="subnavigation__list-item ">
        <a href="../../../" class="subnavigation__link">Mezzio: PSR-7 Middleware in Minutes</a>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Getting Started</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../getting-started/features/" class="subnavigation__link">Overview and Features</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../getting-started/standalone/" class="subnavigation__link">Quick Start: Standalone</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../getting-started/skeleton/" class="subnavigation__link">Quick Start: Skeleton Installer</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Features</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/application/" class="subnavigation__link">Applications</a>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Containers</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/container/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/container/factories/" class="subnavigation__link">Container Factories</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/container/laminas-servicemanager/" class="subnavigation__link">Using laminas-servicemanager</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/container/pimple/" class="subnavigation__link">Using Pimple</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/container/aura-di/" class="subnavigation__link">Using Aura.Di</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Routing Adapters</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/router/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/router/interface/" class="subnavigation__link">Routing Interface</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/router/uri-generation/" class="subnavigation__link">URI Generation</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/router/piping/" class="subnavigation__link">Routing vs Piping</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/router/aura/" class="subnavigation__link">Using Aura</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/router/fast-route/" class="subnavigation__link">Using FastRoute</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/router/laminas-router/" class="subnavigation__link">Using the Laminas Router</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Templating</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/template/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/template/interface/" class="subnavigation__link">Template Renderer Interface</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/template/middleware/" class="subnavigation__link">Templated Middleware</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/template/plates/" class="subnavigation__link">Using Plates</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/template/twig/" class="subnavigation__link">Using Twig</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/template/laminas-view/" class="subnavigation__link">Using laminas-view</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/error-handling/" class="subnavigation__link">Error Handling</a>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Helpers</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/helpers/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/helpers/url-helper/" class="subnavigation__link">UrlHelper</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/helpers/server-url-helper/" class="subnavigation__link">ServerUrlHelper</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/helpers/body-parse/" class="subnavigation__link">Body Parsing Middleware</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/emitters/" class="subnavigation__link">Emitters</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Cookbook</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/common-prefix-for-routes/" class="subnavigation__link">Prepending a common path to all routes</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/route-specific-pipeline/" class="subnavigation__link">Route-specific middleware pipelines</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/custom-404-page-handling/" class="subnavigation__link">Setting custom 404 page handling</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/using-custom-view-helpers/" class="subnavigation__link">Registering custom view helpers when using laminas-view</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/using-laminas-form-view-helpers/" class="subnavigation__link">Using laminas-form view helpers</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/using-a-base-path/" class="subnavigation__link">Using Mezzio from a subdirectory</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/modular-layout/" class="subnavigation__link">Building modular applications</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/setting-locale-depending-routing-parameter/" class="subnavigation__link">Setting a locale based on a routing parameter</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/setting-locale-without-routing-parameter/" class="subnavigation__link">Setting a locale without a routing parameter</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/debug-toolbars/" class="subnavigation__link">Enabling debug toolbars</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/using-routed-middleware-class-as-controller/" class="subnavigation__link">Handling multiple routes in a single class</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/flash-messengers/" class="subnavigation__link">Flash Messengers</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Reference</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../why-mezzio/" class="subnavigation__link">Why choose Mezzio?</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../usage-examples/" class="subnavigation__link">Examples</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../mezzio-projects/" class="subnavigation__link">Mezzio Projects</a>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Migration</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../rc-to-v1/" class="subnavigation__link">From RC5 and Earlier</a>
    </li>

            
                
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="./" class="subnavigation__link">To Mezzio 1.1</a>
    </li>

            
        </ul>
    </li>

            
        </ul>
    </li>

                    
                
            
        </ul>
    </div>

                </div>
            

            
            <div class="d-block d-sm-none">
                <div class="component-selector">
    
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
            </div>
        </div>
    </div>
</nav>

    
    <header class="header">
    <div class="container">
        <div class="row">

            
            <div class="col-8">
                <h1 class="header__title">
                    Mezzio

                    
                        <small class="header__subtitle">mezzio</small>
                    
                </h1>
            </div>

            
            <div class="col-4 text-right">
                
                    
<div class="version-selector">
    <div class="btn-group">
        <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" data-display="static" aria-haspopup="true" aria-expanded="false" id="version-selector-dropdown">
            
                v1
            
        </button>
        <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-left" aria-labelledby="version-selector-dropdown">
            
                
                    <a href="../../../../v3/" class="dropdown-item">
                        
                            v3 (latest)
                        
                    </a>
                
            
                
                    <a href="../../../../v2/" class="dropdown-item">
                        
                            v2
                        
                    </a>
                
            
                
                    <a href="../../../" class="dropdown-item active">
                        
                            v1
                        
                    </a>
                
            
        </div>
    </div>
</div>


                    <a href="#" class="header__link header__link--search" data-toggle="modal" data-target="#mkdocs_search_modal" title="Open search">
                        <i class="fa fa-search"></i> Search
                    </a>
                    <a href="https://github.com/mezzio/mezzio" class="header__link header__link--github" title="Go to repository of mezzio">
                        <i class="fab fa-github"></i> GitHub
                    </a>
                
            </div>
        </div>
    </div>
</header>

    
    <div class="container">
        <div class="row">
            <div class="col-md-9 col-sm-12 content" role="main">
                
                
                    
    

    
    
        <div class="toc">
            <h6 class="toc__headline">On this page</h6>
            <ul class="toc__list">
                
                    <li class="toc__entry">
                        <a href="#deprecations" class="toc__link nav-link">Deprecations</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#original-messages" class="toc__link nav-link">Original messages</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#programmatic-middleware-pipelines" class="toc__link nav-link">Programmatic middleware pipelines</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#error-handling" class="toc__link nav-link">Error handling</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#full-example" class="toc__link nav-link">Full example</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#looking-forward" class="toc__link nav-link">Looking forward</a>
                    </li>
                
            </ul>
        </div>
    

                

                
                    <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        
            <li class="breadcrumb-item"><a href="https://docs.laminas.dev/">Overview</a></li>
            <li class="breadcrumb-item"><a href="https://docs.mezzio.dev/">Mezzio</a></li>

            
                <li class="breadcrumb-item"><a href="../../../..">mezzio</a></li>

                
                    
                        
                        
                    
                
                    
                        
                        
                            <li class="breadcrumb-item">Reference</li>
                        
                    
                
                    
                        
                        
                            <li class="breadcrumb-item">Migration</li>
                        
                    
                

                <li class="breadcrumb-item active" aria-current="page">To Mezzio 1.1</li>
            
        
    </ol>
</nav>



    <div class="alert alert-danger" role="alert">
        <h4>Caution</h4>
        <p>
            The documentation you are viewing is for an older version of this component.<br>
            <a href="../../../..">Switch to the latest (v3) version.</a>
        </p>
    </div>




    
    
        <h2 class="chapter__headline">Migration</h2>
    

    <h1 id="migration-to-mezzio-11">Migration to Mezzio 1.1</h1>
<p>Mezzio 1.1 should not result in any upgrade problems for users. However,
starting in this version, we offer a few changes affecting the following that
you should be aware of, and potentially update your application to adopt:</p>
<ul>
<li>Deprecations</li>
<li>Original request and response messages</li>
<li>Recommendation to use programmatic pipelines</li>
<li>Error handling</li>
</ul>
<h2 id="deprecations">Deprecations</h2>
<p>The following classes and/or methods are deprecated with the 1.1.0 release, and
will be removed for the 2.0 release:</p>
<ul>
<li>
<p><code>Mezzio\Application::pipeErrorHandler()</code>: Stratigility v1 error
  middleware are removed in the Stratigility v2 release, which Mezzio 2.0 will
  adopt.</p>
</li>
<li>
<p><code>Mezzio\Application::routeMiddleware()</code>: routing middleware moves to
  a dedicated class starting in Mezzio 2.0. If you were referencing the
  method in order to pipe it as middleware, use <code>pipeRoutingMiddleware()</code> or
  <code>pipe(ApplicationFactory::ROUTING_MIDDLEWARE)</code> instead.</p>
</li>
<li>
<p><code>Mezzio\Application::dispatchMiddleware()</code>: dispatch middleware moves
  to a dedicated class starting in Mezzio 2.0.If you were referencing the
  method in order to pipe it as middleware, use <code>pipeDispatchMiddleware()</code> or
  <code>pipe(ApplicationFactory::DISPATCH_MIDDLEWARE)</code> instead.</p>
</li>
<li>
<p><code>Mezzio\Application::getFinalHandler()</code>: this method gets renamed to
  <code>getDefaultDelegate()</code> in Mezzio 2.0. We recommend retrieving the value
  from the application dependency injection container if you need it elsewhere.</p>
</li>
<li>
<p><code>Mezzio\Application::raiseThrowables()</code>: this method becomes a no-op
  in Stratigility 2.0, on which Mezzio 2.0 is based; the behavior it enabled
  becomes the default behavior in that version.</p>
</li>
<li>
<p><code>Mezzio\Container\Exception\InvalidArgumentException</code>: this exception
  type is thrown by <code>ApplicationFactory</code>; in Mezzio 2.0, it throws
  <code>Mezzio\Exception\InvalidArgumentException</code> instead.</p>
</li>
<li>
<p><code>Mezzio\Container\Exception\NotFoundException</code>: this exception type
  is not currently used anyway.</p>
</li>
<li>
<p><code>Mezzio\ErrorMiddlewarePipe</code>: Stratigility v1 error middleware are
  removed in the Stratigility v2 release, which Mezzio 2.0 will adopt,
  making this specialized middleware pipe type irrelvant.</p>
</li>
<li>
<p><code>Mezzio\TemplatedErrorHandler</code> and <code>Mezzio\WhoopsErrorHandler</code>:
  The concept of "final handlers" will be removed in Mezzio 2.0, to be
  replaced with "default delegates" (implementations of
  <code>Interop\Http\ServerMiddleware\DelegateInterface</code> that will be called if the
  middleware pipeline is exhausted, and which will be guaranteed to return a
  response). Mezzio 2.0 will provide tooling to upgrade your dependencies to
  make the transition seamless; end users will only be affected if they were
  extending these classes.</p>
</li>
</ul>
<p>If you were calling any of these directly, or extending or overriding them, you
will need to update your code to work for version 2.0. We recommend not using
these.</p>
<h2 id="original-messages">Original messages</h2>
<p>Stratigility 1.3 deprecates its internal request and response decorators,
<code>Laminas\Stratigility\Http\Request</code> and <code>Laminas\Stratigility\Http\Response</code>,
respectively. The main utility of these instances was to provide access in
inner middleware layers to the original request, original response, and original
URI.</p>
<p>As such access may still be desired, Stratigility 1.3 introduced
<code>Laminas\Stratigility\Middleware\OriginalMessages</code>. This middleware injects the
following attributes into the request it passes to <code>$next()</code>:</p>
<ul>
<li><code>originalRequest</code> is the request instance provided to the middleware.</li>
<li><code>originalUri</code> is the URI instance associated with that request.</li>
<li><code>originalResponse</code> is the response instance provided to the middleware.</li>
</ul>
<p><code>Laminas\Stratigility\FinalHandler</code> was updated to use these when they're
available starting with version 1.0.3.</p>
<p>We recommend adding the <code>OriginalMessages</code> middleware as the outermost (first)
middleware in your pipeline. Using configuration-driven middleware, that would
look like this:</p>
<pre class="highlight"><code class="language-php">// config/autoload/middleware-pipeline.global.php
/* ... */
use Mezzio\Helper;
use Laminas\Stratigility\Middleware\OriginalMessages;

return [
    'dependencies' =&gt; [
        'invokables' =&gt; [
            OriginalMessages::class =&gt; OriginalMessages::class,
        ],
        /* ... */
    ],
    'middleware_pipeline' =&gt; [
        'always' =&gt; [
            'middleware' =&gt; [
                OriginalMessages::class, // &lt;----- Add this entry
                Helper\ServerUrlMiddleware::class,
                /* ... */
            ],
            'priority' =&gt; 10000,
        ],

        /* ... */
    ],
];</code></pre>
<p>If you are <a href="https://mwop.net/blog/2016-05-16-programmatic-expressive.html">programmatically creating your pipeline</a>,
use the following:</p>
<pre class="highlight"><code class="language-php">$app-&gt;pipe(OriginalMessages::class);
/* all other middleware */</code></pre>
<h3 id="identifying-and-fixing-getoriginal-calls">Identifying and fixing getOriginal calls</h3>
<p>To help you identify and update calls in your own code to the <code>getOriginal*()</code>
methods, we provide a tool via the <a href="https://github.com/mezzio/mezzio-tooling">mezzio/mezzio-tooling</a>
package, <code>vendor/bin/mezzio-migrate-original-messages</code>.</p>
<p>First, install the tooling package; since the tooling it provides is only
useful during development, install it as a development requirement:</p>
<pre class="highlight"><code class="language-bash">$ composer require --dev mezzio/mezzio-tooling</code></pre>
<p>Once installed,  you can execute the tool using:</p>
<pre class="highlight"><code class="language-bash">$ ./vendor/bin/mezzio-migrate-original-messages</code></pre>
<p>Passing the arguments <code>help</code>, <code>--help</code>, or <code>-h</code> will provide usage information;
in most cases, it will assume sane defaults in order to run its scans.</p>
<p>The tool updates calls to <code>getOriginalRequest()</code> and <code>getOriginalUri()</code> to
instead use the new request attributes that the <code>OriginalMessages</code> middleware
injects:</p>
<ul>
<li><code>getOriginalRequest()</code> becomes <code>getAttribute('originalRequest', $request)</code></li>
<li><code>getOriginalUri()</code> becomes <code>getAttribute('originalUri', $request-&gt;getUri())</code></li>
</ul>
<p>In both cases, <code>$request</code> will be replaced with whatever variable name you used
for the request instance.</p>
<p>For <code>getOriginalResponse()</code> calls, which happen on the response instance, the
tool will instead tell you what files had such calls, and detail how you can
update those calls to use the <code>originalResponse</code> request attribute.</p>
<h2 id="programmatic-middleware-pipelines">Programmatic middleware pipelines</h2>
<p>With Mezzio 1.0, we recommended creating middleware pipelines and routing
via configuration. Starting with 1.1, we recommend <em>programmatic creation of
pipelines and routing</em>.</p>
<p>Programmatic pipelines exercise the existing Mezzio API. Methods include:</p>
<ul>
<li>
<p><code>pipe()</code> allows you to pipe middleware for the pipeline; this can optionally
  take a <code>$path</code> argument. (If one argument is present, it is assumed to be
  middleware; with two arguments, the first argument is the <code>$path</code>.) Paths are
  literal URI path segments. If the incoming request matches that segment, the
  middleware will execute; otherwise, it will not. These can be used to provide
  sub-applications with their own routing.</p>
</li>
<li>
<p><code>pipeRoutingMiddleware()</code> is used to pipe the internal routing middleware into
  the pipeline.</p>
</li>
<li>
<p><code>pipeDispatchMiddleware()</code> is used to pipe the internal dispatch middleware into
  the pipeline.</p>
</li>
<li>
<p><code>pipeErrorMiddleware()</code> is used to pipe the legacy Stratigility error
  middleware into the pipeline. We recommend <strong>NOT</strong> using this method, and
  instead adapting your application to use <a href="#error-handling">standard middleware for error
  handling</a>. Otherwise, it acts just like <code>pipe()</code>.
  Starting in Mezzio 1.1, this method will emit a deprecation notice.</p>
</li>
</ul>
<p>As an example pipeline:</p>
<pre class="highlight"><code class="language-php">$app-&gt;pipe(OriginalMessages::class);
$app-&gt;pipe(Helper\ServerUrlMiddleware::class);
$app-&gt;pipe(ErrorHandler::class);
$app-&gt;pipeRoutingMiddleware();
$app-&gt;pipe(Helper\UrlHelperMiddleware::class);
$app-&gt;pipeDispatchMiddleware();
$app-&gt;pipe(NotFoundHandler::class);</code></pre>
<p>Mezzio also provides methods for specifying routed middleware. These
include:</p>
<ul>
<li><code>get($path, $middleware, $name = null)</code></li>
<li><code>post($path, $middleware, $name = null)</code></li>
<li><code>put($path, $middleware, $name = null)</code></li>
<li><code>patch($path, $middleware, $name = null)</code></li>
<li><code>delete($path, $middleware, $name = null)</code></li>
<li><code>route($path, $middleware, array $methods = null, $name = null)</code></li>
</ul>
<p>Each returns a <code>Mezzio\Router\Route</code> instance; this is useful if you
wish to provide additional options to your route:</p>
<pre class="highlight"><code class="language-php">$app-&gt;get('/api/ping', Ping::class)
    -&gt;setOptions([
        'timestamp' =&gt; date(),
    ]);</code></pre>
<p>As an example, the default routes defined in the skeleton application can be
written as follows:</p>
<pre class="highlight"><code class="language-php">$app-&gt;get('/', \App\Action\HomePageAction::class, 'home');
$app-&gt;get('/api/ping', \App\Action\PingAction::class, 'api.ping');</code></pre>
<p>We recommend rewriting your middleware pipeline and routing configuration into
programmatic/declarative statements. Specifically:</p>
<ul>
<li>We recommend putting the pipeline declarations into <code>config/pipeline.php</code>.</li>
<li>We recommend putting the routing declarations into <code>config/routes.php</code>.</li>
</ul>
<p>Once you've written these, you will then need to make the following changes to
your application:</p>
<ul>
<li>First, enable the <code>mezzio.programmatic_pipeline</code> configuration flag.
  This can be done in any <code>config/autoload/*.global.php</code> file:</li>
</ul>
<pre class="highlight"><code class="language-php">return [
    'mezzio' =&gt; [
        'programmatic_pipeline' =&gt; true,
    ],
];</code></pre>
<p>Once enabled, any <code>middleware_pipeline</code> or <code>routes</code> configuration will be
  ignored when creating the <code>Application</code> instance.</p>
<ul>
<li>Second, update your <code>public/index.php</code> to add the following lines immediately
  prior to calling <code>$app-&gt;run();</code>:</li>
</ul>
<pre class="highlight"><code class="language-php">require 'config/pipeline.php';
require 'config/routes.php';</code></pre>
<p>Once this has been done, the application will use your new programmatic
pipelines instead of configuration. You can remove the <code>middleware_pipeline</code> and
<code>routes</code> configuration after verifying your application continues to work.</p>
<p>For programmatic pipelines to work properly, you will also need to provide error
handling middleware, which is discussed in the next section.</p>
<h2 id="error-handling">Error handling</h2>
<p>Prior to version 1.1, error handling was accomplished via two mechanisms:</p>
<ul>
<li>Stratigility "error middleware" (middleware with the signature <code>function
  ($error, ServerRequestInterface $request, ResponseInterface $response,
  callable $next)</code>). This middleware would be invoked when calling <code>$next()</code>
  with a third argument indicating an error, and would be expected to handle it
  or delegate to the next error middleware.</li>
</ul>
<p>Internally, Stratigility would execute each middleware within a try/catch
  block; if an exception were caught, it would then delegate to the next <em>error
  middleware</em> using the caught exception as the <code>$err</code> argument.</p>
<ul>
<li>The "Final Handler". This is a handler invoked when the middleware pipeline is
  exhausted without returning a response, and has the signature <code>function
  (ServerRequestInterface $request, ResponseInterface $response, $err = null)</code>;
  it is provided to the middleware pipeline when invoking the outermost
  middleware; in the case of Mezzio, it is composed in the <code>Application</code>
  instance, and passed to the application middleware when it executes <code>run()</code>.
  When invoked, it needs to decide if invocation is due to no middleware
  executing (HTTP 404 status), middleware calling <code>$next()</code> with an altered
  response (response is then returned), or due to invocation of error middleware
  (calling <code>$next()</code> with the third, error, argument) with no error middleware
  returning a response.</li>
</ul>
<p>Mezzio 1.1 updates the minimum supported Stratigility version to 1.3, which
deprecates the concept of error middleware, and recommends a "final handler"
that does no error handling, but instead returns a canned response (typically a
404). Additionally, it deprecates the practice of wrapping middleware execution
in a try/catch block, and provides a flag for disabling that behavior entirely,
<code>raise_throwables</code>.</p>
<p>Starting in Mezzio 1.1, you can set the <code>raise_throwables</code> flag in your
configuration:</p>
<pre class="highlight"><code class="language-php">return [
    'mezzio' =&gt; [
        'raise_throwables' =&gt; true,
    ],
];</code></pre>
<p>When enabled, the internal dispatcher will no longer catch exceptions.</p>
<p>This both allows you to, and <em>requires</em> you to, write your own error handling
middleware. This will require two things:</p>
<ul>
<li>Middleware with a try/catch block that operates as the outermost (or close to
  outermost) layer of your application, and which can provide error pages or
  details to your end users.</li>
<li>Middleware at the innermost layer that is guaranteed to return a response;
  generally, reaching this means no middleware was able to route the request, and
  thus a 404 condition.</li>
</ul>
<p>The below sections detail approaches to each.</p>
<h3 id="error-handling-middleware">Error handling middleware</h3>
<p>Error handling middleware generally will look something like this:</p>
<pre class="highlight"><code class="language-php">function (
    ServerRequestInterface $request,
    ResponseInterface $response,
    callable $next
) {
    try {
        $response = $next($request, $response);
        return $response;
    } catch (\Throwable $exception) {
        // caught PHP 7 throwable
    } catch (\Exception $exception) {
        // caught PHP 5 exception
    }

    // ...
    // do something with $exception and generate a response
    // ...

    return $response;
}</code></pre>
<p>Stratigility 1.3 provides such an implementation via its
<code>Laminas\Stratigility\Middleware\ErrorHandler</code>. In addition to the try/catch block,
it also sets up a PHP error handler that will catch any PHP error types in the
current <code>error_reporting</code> mask; the error handler will raise exceptions of the
type <code>ErrorException</code> with the PHP error details.</p>
<p>Stratigility's <code>ErrorHandler</code> allows injection of an "error response generator",
which allows you to alter how the error response is generated based on the
current environment. Error response generators are callables with the signature:</p>
<pre class="highlight"><code class="language-php">function (
    Throwable|Exception $e,
    ServerRequestInterface $request,
    ResponseInterface $response
) : ResponseInterface</code></pre>
<p>We recommend using the Stratigility <code>ErrorHandler</code> and writing and attaching a
custom error response generator. As a simple example, the following details a
generator that will use a template to display an error page:</p>
<pre class="highlight"><code class="language-php">namespace Acme;

use Psr\Http\Message\ResponseInterface;
use Psr\Http\Message\ServerRequestInterface;
use Mezzio\Template\TemplateRendererInterface;

class TemplatedErrorResponseGenerator
{
    const TEMPLATE_DEFAULT = 'error::error';

    private $renderer;

    private $template;

    public function __construct(
        TemplateRendererInterface $renderer,
        $template = TEMPLATE_DEFAULT
    ) {
        $this-&gt;renderer = $renderer;
        $this-&gt;template = $template;
    }

    public function __invoke(
        $e,
        ServerRequestInterface $request,
        ResponseInterface $response
    ) {
        $response-&gt;write($this-&gt;renderer-&gt;render($this-&gt;template, [
            'exception' =&gt; $e,
            'request'   =&gt; $request,
        ]));
        return $response;
    }
}</code></pre>
<p>You might then create a factory for generating the <code>ErrorHandler</code> and attaching
this response generator as follows:</p>
<pre class="highlight"><code class="language-php">namespace Acme\Container;

use Acme\TemplatedErrorResponseGenerator;
use Interop\Container\ContainerInterface;
use Laminas\Diactoros\Response;
use Mezzio\Template\TemplateRendererInterface;
use Laminas\Stratigility\Middleware\ErrorHandler;

class ErrorHandlerFactory
{
    public function __invoke(ContainerInterface $container)
    {
        $generator = new TemplatedErrorResponseGenerator(
            $container-&gt;get(TemplateRendererInterface::class)
        );

        return new ErrorHandler(new Response(), $generator);
    }
}</code></pre>
<p>Once that is created you can tell your middleware configuration about it:</p>
<pre class="highlight"><code class="language-php">// in config/autoload/middleware-pipeline.global.php
use Acme\Container\ErrorHandlerFactory;
use Laminas\Stratigility\Middleware\ErrorHandler;

return [
    'dependencies' =&gt; [
        /* ... */
        'factories' =&gt; [
            ErrorHandler::class =&gt; ErrorHandlerFactory::class,
            /* ... */
        ],
        /* ... */
    ],
    'middleware_pipeline' =&gt; [
        'always' =&gt; [
            'middleware' =&gt; [
                ErrorHandler::class,
                /* ... */
            ],
            'priority' =&gt; 10000,
        ],
        /* ... */
    ],
];</code></pre>
<p>Alternately, if using a programmatic pipeline, as detailed in the previous
section, you can use the following:</p>
<pre class="highlight"><code class="language-php">use Laminas\Stratigility\Middleware\ErrorHandler;

$app-&gt;pipe(ErrorHandler::class);
// add all other middleware after it</code></pre>
<h3 id="not-found-middleware">Not Found middleware</h3>
<p>At the innermost layer of your application, you need middleware guaranteed to
return a response; typically, this indicates a failure to route the request,
and, as such, an HTTP 404 response.  <code>Laminas\Stratigility\Middleware\NotFoundHandler</code>
provides an implementation, but is written such that the response body remains
empty. As such, you might write a custom, templated handler:</p>
<pre class="highlight"><code class="language-php">namespace Acme;

use Psr\Http\Message\ResponseInterface;
use Psr\Http\Message\ServerRequestInterface;
use Laminas\Diactoros\Response;
use Mezzio\Template\TemplateRendererInterface;

class TemplatedNotFoundHandler
{
    const TEMPLATE_DEFAULT = 'error::404';

    private $renderer;

    private $template;

    public function __construct(
        TemplateRendererInterface $renderer,
        $template = self::TEMPLATE_DEFAULT
    ) {
        $this-&gt;renderer = $renderer;
        $this-&gt;template = $template;
    }

    public function __invoke(
        ServerRequestInterface $request,
        ResponseInterface $response,
        callable $next
    ) {
        $response = new Response();
        $response-&gt;write($this-&gt;renderer-&gt;render($this-&gt;template));
        return $response-&gt;withStatus(404);
    }
}</code></pre>
<p>Similar to the discussion of the <code>ErrorHandler</code> above, we'll create a factory
for this:</p>
<pre class="highlight"><code class="language-php">namespace Acme\Container;

use Acme\TemplatedNotFoundHandler;
use Interop\Container\ContainerInterface;
use Mezzio\Template\TemplateRendererInterface;

class TemplatedNotFoundHandlerFactory
{
    public function __invoke(ContainerInterface $container)
    {
        return new TemplatedNotFoundHandler(
            $container-&gt;get(TemplateRendererInterface::class)
        );
    }
}</code></pre>
<p>We can then register it in our pipeline:</p>
<pre class="highlight"><code class="language-php">// in config/autoload/middleware-pipeline.global.php
use Acme\Container\NotFoundHandlerFactory;
use Acme\TemplatedNotFoundHandler;

return [
    'dependencies' =&gt; [
        /* ... */
        'factories' =&gt; [
            TemplatedNotFoundHandler::class =&gt; TemplatedNotFoundHandlerFactory::class,
            /* ... */
        ],
        /* ... */
    ],
    'middleware_pipeline' =&gt; [
        /* ... */

        // After 'routing', but before 'error';
        // alternately as last item in 'routing' middleware list.
        'not-found' =&gt; [
            'middleware' =&gt; TemplatedNotFoundHandler::class,
            'priority' =&gt; 0,
        ],

        /* ... */
    ],
];</code></pre>
<p>If you are using programmatic pipelines, as described in the previous section:</p>
<pre class="highlight"><code class="language-php">use Acme\TemplatedNotFoundHandler;

// all other pipeline directives, and then:
$app-&gt;pipe(TemplatedNotFoundHandler::class);</code></pre>
<h3 id="detecting-error-middleware-usage">Detecting error middleware usage</h3>
<p>If you use the new error handling paradigm, we recommend that you also audit
your application for legacy Stratigility error middleware, as well as invocation
of error middleware. To do this, we provide a tool via the
<a href="https://github.com/mezzio/mezzio-tooling">mezzio/mezzio-tooling</a>
package, <code>vendor/bin/mezzio-scan-for-error-middleware</code>.</p>
<p>First, install the tooling as a development requirement:</p>
<pre class="highlight"><code class="language-bash">$ composer require --dev mezzio/mezzio-tooling</code></pre>
<p>The tool will scan the <code>src/</code> directory by default, but allows you to scan other
directories via the <code>--dir</code> flag. It will detect and report files with any of
the following:</p>
<ul>
<li>Classes implementing <code>Laminas\Stratigility\ErrorMiddlewareInterface</code>.</li>
<li>Invokable classes implementing the error middleware signature.</li>
<li>Methods accepting <code>$next</code> that invoke it with an error argument.</li>
</ul>
<p>As an example running it:</p>
<pre class="highlight"><code class="language-bash">$ ./vendor/bin/mezzio-scan-for-error-middleware scan
# or, with a directory argument:
$ ./vendor/bin/mezzio-scan-for-error-middleware scan --dir ./lib</code></pre>
<p>You may also call the tool using its <code>help</code> command, or either of the <code>--help</code>
or <code>-h</code> flags to get full usage information.</p>
<p>Use this tool to identify potential problem areas in your application, and
update your code to use the new error handling facilities as outlined above.</p>
<h2 id="full-example">Full example</h2>
<p>Putting all of the above together &mdash; <a href="#original-messages">original message
memoizing</a>, <a href="#programmatic-middleware-pipelines">programmatic
pipelines</a>, and <a href="#error-handling">middleware-based error
handling</a> &mdash; might look like the following examples.</p>
<p>First, we'll tell Mezzio to use programmatic pipelines, and to enable the
new error handling (by telling it to "raise throwables", instead of catching
them):</p>
<pre class="highlight"><code class="language-php">// In config/autoload/mezzio.global.php:
return [
    /* ... */
    'mezzio' =&gt; [
        'programmatic_pipeline' =&gt; true,
        'raise_throwables' =&gt; true,
        /* ... */
    ],
];</code></pre>
<p>Next, we'll update <code>config/autoload/middleware-pipeline.global.php</code> to list only
dependencies:</p>
<pre class="highlight"><code class="language-php">use Acme\Container;
use Acme\TemplatedNotFoundHandler;
use Laminas\Stratigility\Middleware\ErrorHandler;
use Laminas\Stratigility\Middleware\OriginalMessages;
use Mezzio\Helper;

return [
    'dependencies' =&gt; [
        'invokables' =&gt; [
            OriginalMessages::class =&gt; OriginalMesssages::class,
        ],
        'factories' =&gt; [
            ErrorHandler::class =&gt; Container\ErrorHandlerFactory::class,
            Helper\ServerUrlMiddleware::class =&gt; Helper\ServerUrlMiddlewareFactory::class,
            Helper\UrlHelperMiddleware::class =&gt; Helper\UrlHelperMiddlewareFactory::class,
            TemplatedNotFoundHandler::class =&gt; Container\TemplatedNotFoundHandlerFactory::class,
        ],
    ],
];</code></pre>
<p>We'll also update <code>config/autoload/routes.global.php</code> to only list dependencies;
in the following example, we list only the middleware shipped by default with
the skeleton application:</p>
<pre class="highlight"><code class="language-php">use App\Action;
use Mezzio\Router\FastRouteRouter;
use Mezzio\Router\RouterInterface;

return [
    'dependencies' =&gt; [
        'invokables' =&gt; [
            RouterInterface::class =&gt; FastRouteRouter::class,
            Action\PingAction::class =&gt; Action\PingAction::class,
        ],
        'factories' =&gt; [
            Action\HomePageAction::class =&gt; Action\HomePageFactory::class,
        ],
    ],
];</code></pre>
<p>To create our pipeline, we will create the file <code>config/pipeline.php</code>:</p>
<pre class="highlight"><code class="language-php">use Acme\TemplatedNotFoundHandler;
use Laminas\Stratigility\Middleware\ErrorHandler;
use Laminas\Stratigility\Middleware\OriginalMessages;
use Mezzio\Container\ApplicationFactory;
use Mezzio\Helper;

$app-&gt;pipe(OriginalMessages::class);
$app-&gt;pipe(ErrorHandler::class);
$app-&gt;pipe(Helper\ServerUrlMiddleware::class);
$app-&gt;pipe([
    ApplicationFactory::ROUTING_MIDDLEWARE,
    Helper\UrlHelperMiddleware::class,
    ApplicationFactory::DISPATCH_MIDDLEWARE,
]);
$app-&gt;pipe(TemplatedNotFoundHandler::class);</code></pre>
<p>Note that you can use <em>arrays</em> of middleware just like you did in the
configuration; this allows you to separate middleware into logical groups if
desired!</p>
<p>To provide our routed middleware, we will create the file
<code>config/pipeline.php</code>:</p>
<pre class="highlight"><code class="language-php">use App\Action;

$app-&gt;get('/', Action\HomePageAction::class, 'home');
$app-&gt;get('/api/ping', Action\PingAction::class, 'api.ping');</code></pre>
<p>The above exercises the various routing methods of the <code>Application</code> class.</p>
<p>Finally, we will need to update our <code>public/index.php</code>, to tell it to require
our new pipeline and routing files; we'll do that between retrieving the
application from the container, and running the application:</p>
<pre class="highlight"><code class="language-php">$app = $container-&gt;get(\Mezzio\Application::class);
require 'config/pipeline.php';
require 'config/routes.php';
$app-&gt;run();</code></pre>
<p>With these changes in place, your application should continue to run as it did
previously!</p>
<h2 id="looking-forward">Looking forward</h2>
<p>Mezzio 2.0 will ship error handling middleware and "not found" middleware,
as well as tools to convert your application to a programmatic pipeline in such
a way as to utilize these shipped implementations. In the meantime, however, you
can adopt programmatic pipelines and the new error handling paradigm within the
version 1 series using the configuration flags and guidelines listed above in
order to make your application forwards-compatible.</p>




    <nav>
    <ul class="page-nav hidden-print">

        
        <li class="page-nav__item">
            
                <a rel="prev" class="page-nav__link page-nav__link--prev" href="../rc-to-v1/">
                    <small class="page-nav__label">Previous</small>
                    <i class="fa fa-chevron-left"></i>
                    From RC5 and Earlier
                </a>
            
        </li>

        
        <li class="page-nav__item">
            
        </li>
    </ul>
</nav>



                
            </div>
            <div class="col-md-3 col-sm-12 sidebar">
                <div class="donation-banner">
    <a href="https://getlaminas.org/support/">
        <h2>Donate</h2>
        <p>Support Laminas Developers Directly</p>
        <img src="https://funding.communitybridge.org/assets/cb-f-horizontal-white.svg">
    </a>
</div>

                
                    <div class="component-selector">
    
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="../../../..">mezzio</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                

                    
                    
                
            

                
                

                    
                    
                
            

                
                
                    
                        
    <li class="subnavigation__list-item ">
        <a href="../../../" class="subnavigation__link">Mezzio: PSR-7 Middleware in Minutes</a>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Getting Started</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../getting-started/features/" class="subnavigation__link">Overview and Features</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../getting-started/standalone/" class="subnavigation__link">Quick Start: Standalone</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../getting-started/skeleton/" class="subnavigation__link">Quick Start: Skeleton Installer</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Features</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/application/" class="subnavigation__link">Applications</a>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Containers</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/container/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/container/factories/" class="subnavigation__link">Container Factories</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/container/laminas-servicemanager/" class="subnavigation__link">Using laminas-servicemanager</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/container/pimple/" class="subnavigation__link">Using Pimple</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/container/aura-di/" class="subnavigation__link">Using Aura.Di</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Routing Adapters</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/router/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/router/interface/" class="subnavigation__link">Routing Interface</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/router/uri-generation/" class="subnavigation__link">URI Generation</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/router/piping/" class="subnavigation__link">Routing vs Piping</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/router/aura/" class="subnavigation__link">Using Aura</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/router/fast-route/" class="subnavigation__link">Using FastRoute</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/router/laminas-router/" class="subnavigation__link">Using the Laminas Router</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Templating</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/template/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/template/interface/" class="subnavigation__link">Template Renderer Interface</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/template/middleware/" class="subnavigation__link">Templated Middleware</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/template/plates/" class="subnavigation__link">Using Plates</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/template/twig/" class="subnavigation__link">Using Twig</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/template/laminas-view/" class="subnavigation__link">Using laminas-view</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/error-handling/" class="subnavigation__link">Error Handling</a>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Helpers</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/helpers/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/helpers/url-helper/" class="subnavigation__link">UrlHelper</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/helpers/server-url-helper/" class="subnavigation__link">ServerUrlHelper</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/helpers/body-parse/" class="subnavigation__link">Body Parsing Middleware</a>
    </li>

            
        </ul>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../features/emitters/" class="subnavigation__link">Emitters</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Cookbook</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/common-prefix-for-routes/" class="subnavigation__link">Prepending a common path to all routes</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/route-specific-pipeline/" class="subnavigation__link">Route-specific middleware pipelines</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/custom-404-page-handling/" class="subnavigation__link">Setting custom 404 page handling</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/using-custom-view-helpers/" class="subnavigation__link">Registering custom view helpers when using laminas-view</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/using-laminas-form-view-helpers/" class="subnavigation__link">Using laminas-form view helpers</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/using-a-base-path/" class="subnavigation__link">Using Mezzio from a subdirectory</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/modular-layout/" class="subnavigation__link">Building modular applications</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/setting-locale-depending-routing-parameter/" class="subnavigation__link">Setting a locale based on a routing parameter</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/setting-locale-without-routing-parameter/" class="subnavigation__link">Setting a locale without a routing parameter</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/debug-toolbars/" class="subnavigation__link">Enabling debug toolbars</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/using-routed-middleware-class-as-controller/" class="subnavigation__link">Handling multiple routes in a single class</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../../cookbook/flash-messengers/" class="subnavigation__link">Flash Messengers</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Reference</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../../why-mezzio/" class="subnavigation__link">Why choose Mezzio?</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../usage-examples/" class="subnavigation__link">Examples</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../mezzio-projects/" class="subnavigation__link">Mezzio Projects</a>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Migration</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../rc-to-v1/" class="subnavigation__link">From RC5 and Earlier</a>
    </li>

            
                
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="./" class="subnavigation__link">To Mezzio 1.1</a>
    </li>

            
        </ul>
    </li>

            
        </ul>
    </li>

                    
                
            
        </ul>
    </div>

                    
                
            </div>
        </div>
    </div>

    
    <footer class="footer">
    <div class="container">

        
        <div class="row">
            <div class="col-md-12 text-center">
                <a class="footer__button" href="#page-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <h5>Laminas</h5>
                <ul>
                    <li>Laminas Project <a href="https://getlaminas.org/">The new foundation for the community-supported, open source continuation of Zend Framework</a></li>
                    <li>Laminas Components and MVC <a href="https://docs.laminas.dev/">Components and MVC for enterprise applications</a></li>
                    <li>Mezzio <a href="https://docs.mezzio.dev/">PSR-15 middleware in minutes</a></li>
                    <li>Maintenance Overview <a href="https://getlaminas.org/packages-maintenance-status/">Current maintenance status of Laminas &amp; Mezzio packages</a></li>
                </ul>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="row">

                    
                    <div class="col-md-4">
                        <h4 class="footer__headline">Support</h4>
                        <ul class="support__list">
                            <li class="support__list-item">
                                <a href="https://discourse.laminas.dev" class="support__link" title="Forum"><i class="fa fa-comments"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://laminas.dev/chat" class="support__link" title="Chat"><i class="fab fa-slack"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://github.com/laminas" class="support__link" title="Github"><i class="fab fa-github"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://phpc.social/@getlaminas" class="support__link" title="Mastodon"><i class="fab fa-mastodon"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://getlaminas.org/blog/rss.xml" class="support__link" title="Blog feed"><i class="fa fa-rss"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://getlaminas.org/security/feed" class="support__link" title="Security feed"><i class="fa fa-rss-square"></i></a>
                            </li>
                        </ul>
                    </div>

                    
                    <div class="col-md-4">
                        <h4 class="footer__headline">License</h4>
                        <p>
                            Code licensed under <a
                                href="https://github.com/mezzio/mezzio/blob/-/LICENSE.md">BSD 3-Clause</a>.
                        </p>
                    </div>

                    
                    <div class="col-md-4">
                        <h4 class="footer__headline">Copyright</h4>
                        <p>
                            <!--Built with love by the Laminas team with the help of our
                            <a href="https://github.com/mezzio/mezzio/graphs/contributors">contributors</a>.<br>-->
                            &copy; 2024 <a href="https://getlaminas.org/">Laminas Project</a> a Series of LF Projects, LLC.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>

    <script>
        let base_url = '../../../..',
            project  = "mezzio",
            siteName = 'mezzio';
    </script>
    <script src="https://docs.laminas.dev/js/scripts.js"></script>
    
        <script src="../../../../search/main.js"></script>
    

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Search</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
            </div>
            <div class="modal-body">
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search in mezzio" id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
        </div>
    </div>
</div>
</body>


</html>
